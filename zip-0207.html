<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ZIP 207: Split Founders' Reward</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="css/zip-style.css"><link rel="stylesheet" href="assets/css/style.css"></head>
<body>
<pre><code>ZIP: 207
Title: Split Founders&#39; Reward
Owners: Jack Grigg &lt;str4d@electriccoin.co&gt;
Category: Consensus
Status: Withdrawn
Created: 2019-01-04
License: MIT</code></pre>
<h1 id="terminology">Terminology</h1>
<p>The key words &quot;MUST&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, and &quot;MAY&quot; in this document are to be interpreted as described in RFC 2119.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<h1 id="abstract">Abstract</h1>
<p>This Withdrawn proposal would have altered consensus rules to split the original Founders' Reward across several recipient addresses per block instead of one, corresponding to the several funding streams contained within it.</p>
<h1 id="motivation">Motivation</h1>
<p>Since the launch of the Zcash network, the consensus rules have required that until the first block reward halving (at block 850,000), each block must send 20% of the block subsidy to a hard-coded transparent address. <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> This funding stream is referred to as the Founders' Reward.</p>
<p>This stream of 2.5-ZEC outputs (the value after the mining slow-start was completed) can be split into several logical funding streams (for background, see<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>). Modifying the consensus rules to allocate the 2.5 ZEC across separate recipient addresses decouples these funding streams organizationally, legally, and operationally. It further reinforces transparency as to the structure of the original Founders' Reward.</p>
<h1 id="specification">Specification</h1>
<h2 id="definitions">Definitions</h2>
<p>We use the following constants and functions defined in<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>:</p>
<ul>
<li><code>BlossomActivationHeight</code></li>
<li><code>PostBlossomHalvingInterval</code></li>
<li><code>Halving(height)</code></li>
</ul>
<p>We also define the following constants and functions:</p>
<ul>
<li><code>SlowStartShift</code> as-defined in<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>.</li>
<li><code>HeightForHalving(halving)</code>: Smallest <code>height</code> such that <code>Halving(height) = halving</code></li>
</ul>
<h2 id="funding-streams">Funding streams</h2>
<p>A funding stream is defined by a block reward fraction (represented as a numerator and a denominator), a start height (inclusive), and an end height (exclusive).</p>
<p>By defining the issuance as a proportion of the total block issuance, rather than absolute zatoshis, this ZIP dovetails with any changes to both block target times and issuance-per-block rates while maintaining an unchanged target-time-based issuance schedule. We anticipate such target-time / issuance rate changes in other ZIPs (for example,<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>).</p>
<p>The value of a funding stream at a given block height is defined as:</p>
<pre><code>FundingStream[FUND].Value(height) =
    floor((
        BlockReward(height) * FundingStream[FUND].ValueNumerator
    ) / FundingStream[FUND].ValueDenominator)</code></pre>
<p>An active funding stream at a given block height is defined as a funding stream for which the block height is less than its end height, but not less than its start height.</p>
<p>Each funding stream has an associated set of recipient addresses. Each address is used for at most 1/48th of a halving interval, creating a roughly-monthly sequence of funding periods. The address to be used for a given block height is defined as follows:</p>
<pre><code>AddressChangeInterval = PostBlossomHalvingInterval / 48
AddressPeriod(height) =
    floor((
        height + PostBlossomHalvingInterval - HeightForHalving(1)
    ) / AddressChangeInterval)
FundingStream[FUND].AddressIndex(height) =
    AddressPeriod(height) - AddressPeriod(FundingStream[FUND].StartHeight)
Address(height) = FundingStream[FUND].Addresses[FundingStream[FUND].AddressIndex(height)]</code></pre>
<p>This has the property that all active funding streams change the address they are using on the same block height schedule, aligned to the height of the first halving so that 48 funding periods fit cleanly within a halving interval. This can be leveraged to simplify implementations, by batching the necessary outputs for each funding period.</p>
<p>Below is a visual representation of how stream addresses align with funding periods:</p>
<table>
<thead>
<tr class="header">
<th>Example height</th>
<th>Stream A</th>
<th>Stream B</th>
<th>Stream C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p><code>AddressChangeInterval - 2</code> <code>AddressChangeInterval - 1</code></p>
</blockquote></td>
<td><blockquote>
<p>A0 A0</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote>
<p><code>AddressChangeInterval</code></p>
</blockquote></td>
<td><blockquote>
<p>A1</p>
</blockquote></td>
<td><blockquote>
<p>B0</p>
</blockquote></td>
<td><blockquote>
<p>C0</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote>
<dl>
<dt><code>AddressChangeInterval + 1</code></dt>
<dd><p>...</p>
</dd>
</dl>
</blockquote></td>
<td><blockquote>
<p>A1</p>
</blockquote></td>
<td><blockquote>
<p>B0</p>
</blockquote></td>
<td><blockquote>
<p>C0</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote>
<p><code>2*AddressChangeInterval - 2</code></p>
</blockquote></td>
<td><blockquote>
<p>A1</p>
</blockquote></td>
<td><blockquote>
<p>B0</p>
</blockquote></td>
<td><blockquote>
<p>C0</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote>
<p><code>2*AddressChangeInterval - 1</code> <code>2*AddressChangeInterval</code> <code>2*AddressChangeInterval + 1</code> ...</p>
</blockquote>
<p><code>PostBlossomHalvingInterval - 2</code> <code>PostBlossomHalvingInterval - 1</code> <code>PostBlossomHalvingInterval</code> <code>PostBlossomHalvingInterval + 1</code></p></td>
<td><blockquote>
<p>A1 A2 A2</p>
<p>A2 A2</p>
</blockquote></td>
<td><blockquote>
<p>B0</p>
</blockquote></td>
<td><blockquote>
<p>C0 C1 C1</p>
<p>C1 C1 C2 C2</p>
</blockquote></td>
</tr>
</tbody>
</table>
<p>Note that this is not intended to align with the end of a pre-Blossom Founders' Reward address period (as defined by <code>FounderAddressChangeInterval</code> in<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>). There will be a shortened Founders' Reward address period prior to Blossom activation.</p>
<h2 id="consensus-rules">Consensus rules</h2>
<p>Prior to activation of the Blossom network upgrade, the existing consensus rule for payment of the original Founders' Reward is enforced.<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a></p>
<p>Once the Blossom network upgrade activates:</p>
<ul>
<li>The existing consensus rule<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> is no longer active.</li>
<li>The coinbase transaction in each block MUST contain at least one output per active funding stream that pays the stream's value to the stream's recipient address for the block's height.</li>
</ul>
<h2 id="stream-definitions">Stream definitions</h2>
<p>The consensus-defined funding streams described above each start at the Blossom activation height, and end at the first block reward halving. They are defined as follows:</p>
<table>
<thead>
<tr class="header">
<th>Stream</th>
<th>Value numerator</th>
<th>Value denominator</th>
<th>Start height</th>
<th>End height</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>FS 1</p>
</blockquote></td>
<td><blockquote>
<p>3</p>
</blockquote></td>
<td><blockquote>
<p>40</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="even">
<td><blockquote>
<p>FS 2</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>25</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="odd">
<td><blockquote>
<p>FS 3</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>40</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="even">
<td><blockquote>
<p>FS 4</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>50</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="odd">
<td><blockquote>
<p>FS 5</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>80</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="even">
<td><blockquote>
<p>FS 6</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>80</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="odd">
<td><blockquote>
<p>FS 7</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>100</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
<tr class="even">
<td><blockquote>
<p>FS 8</p>
</blockquote></td>
<td><blockquote>
<p>1</p>
</blockquote></td>
<td><blockquote>
<p>200</p>
</blockquote></td>
<td><code>BlossomActivationHeight</code></td>
<td><code>HeightForHalving(1)</code></td>
</tr>
</tbody>
</table>
<ul>
<li>To-do: specify the correct values.</li>
</ul>
<p>The sum of the block reward fractions for the above funding streams is <code>1/5</code>, equal to the original Founders' Reward (as-defined by <code>FoundersFraction</code> in<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>).</p>
<p>The sets of recipient addresses are defined as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb4-1" title="1"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_1_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="st">&quot;tFS1INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="st">&quot;tFS1INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="st">&quot;tFS1INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="st">&quot;tFS1INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="st">&quot;tFS1INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="st">&quot;tFS1INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="st">&quot;tFS1INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="st">&quot;tFS1INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-10" title="10">    <span class="st">&quot;tFS1INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-11" title="11">    <span class="st">&quot;tFS1INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="st">&quot;tFS1INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="st">&quot;tFS1INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-14" title="14">];</a>
<a class="sourceLine" id="cb4-15" title="15"></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_2_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-17" title="17">    <span class="st">&quot;tFS2INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-18" title="18">    <span class="st">&quot;tFS2INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-19" title="19">    <span class="st">&quot;tFS2INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="st">&quot;tFS2INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-21" title="21">    <span class="st">&quot;tFS2INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-22" title="22">    <span class="st">&quot;tFS2INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-23" title="23">    <span class="st">&quot;tFS2INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-24" title="24">    <span class="st">&quot;tFS2INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-25" title="25">    <span class="st">&quot;tFS2INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-26" title="26">    <span class="st">&quot;tFS2INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-27" title="27">    <span class="st">&quot;tFS2INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-28" title="28">    <span class="st">&quot;tFS2INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-29" title="29">];</a>
<a class="sourceLine" id="cb4-30" title="30"></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_3_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-32" title="32">    <span class="st">&quot;tFS3INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-33" title="33">    <span class="st">&quot;tFS3INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-34" title="34">    <span class="st">&quot;tFS3INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-35" title="35">    <span class="st">&quot;tFS3INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-36" title="36">    <span class="st">&quot;tFS3INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-37" title="37">    <span class="st">&quot;tFS3INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-38" title="38">    <span class="st">&quot;tFS3INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-39" title="39">    <span class="st">&quot;tFS3INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-40" title="40">    <span class="st">&quot;tFS3INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-41" title="41">    <span class="st">&quot;tFS3INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-42" title="42">    <span class="st">&quot;tFS3INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-43" title="43">    <span class="st">&quot;tFS3INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-44" title="44">];</a>
<a class="sourceLine" id="cb4-45" title="45"></a>
<a class="sourceLine" id="cb4-46" title="46"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_4_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-47" title="47">    <span class="st">&quot;tFS4INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-48" title="48">    <span class="st">&quot;tFS4INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-49" title="49">    <span class="st">&quot;tFS4INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-50" title="50">    <span class="st">&quot;tFS4INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-51" title="51">    <span class="st">&quot;tFS4INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-52" title="52">    <span class="st">&quot;tFS4INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-53" title="53">    <span class="st">&quot;tFS4INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-54" title="54">    <span class="st">&quot;tFS4INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-55" title="55">    <span class="st">&quot;tFS4INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-56" title="56">    <span class="st">&quot;tFS4INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-57" title="57">    <span class="st">&quot;tFS4INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-58" title="58">    <span class="st">&quot;tFS4INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-59" title="59">];</a>
<a class="sourceLine" id="cb4-60" title="60"></a>
<a class="sourceLine" id="cb4-61" title="61"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_5_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-62" title="62">    <span class="st">&quot;tFS5INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-63" title="63">    <span class="st">&quot;tFS5INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-64" title="64">    <span class="st">&quot;tFS5INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-65" title="65">    <span class="st">&quot;tFS5INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-66" title="66">    <span class="st">&quot;tFS5INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-67" title="67">    <span class="st">&quot;tFS5INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-68" title="68">    <span class="st">&quot;tFS5INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-69" title="69">    <span class="st">&quot;tFS5INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-70" title="70">    <span class="st">&quot;tFS5INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-71" title="71">    <span class="st">&quot;tFS5INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-72" title="72">    <span class="st">&quot;tFS5INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-73" title="73">    <span class="st">&quot;tFS5INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-74" title="74">];</a>
<a class="sourceLine" id="cb4-75" title="75"></a>
<a class="sourceLine" id="cb4-76" title="76"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_6_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-77" title="77">    <span class="st">&quot;tFS6INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-78" title="78">    <span class="st">&quot;tFS6INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-79" title="79">    <span class="st">&quot;tFS6INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-80" title="80">    <span class="st">&quot;tFS6INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-81" title="81">    <span class="st">&quot;tFS6INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-82" title="82">    <span class="st">&quot;tFS6INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-83" title="83">    <span class="st">&quot;tFS6INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-84" title="84">    <span class="st">&quot;tFS6INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-85" title="85">    <span class="st">&quot;tFS6INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-86" title="86">    <span class="st">&quot;tFS6INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-87" title="87">    <span class="st">&quot;tFS6INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-88" title="88">    <span class="st">&quot;tFS6INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-89" title="89">];</a>
<a class="sourceLine" id="cb4-90" title="90"></a>
<a class="sourceLine" id="cb4-91" title="91"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_7_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-92" title="92">    <span class="st">&quot;tFS7INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-93" title="93">    <span class="st">&quot;tFS7INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-94" title="94">    <span class="st">&quot;tFS7INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-95" title="95">    <span class="st">&quot;tFS7INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-96" title="96">    <span class="st">&quot;tFS7INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-97" title="97">    <span class="st">&quot;tFS7INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-98" title="98">    <span class="st">&quot;tFS7INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-99" title="99">    <span class="st">&quot;tFS7INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-100" title="100">    <span class="st">&quot;tFS7INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-101" title="101">    <span class="st">&quot;tFS7INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-102" title="102">    <span class="st">&quot;tFS7INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-103" title="103">    <span class="st">&quot;tFS7INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-104" title="104">];</a>
<a class="sourceLine" id="cb4-105" title="105"></a>
<a class="sourceLine" id="cb4-106" title="106"><span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; FS_8_ADDRESSES = [</a>
<a class="sourceLine" id="cb4-107" title="107">    <span class="st">&quot;tFS8INVALIDADDRESS00&quot;</span>,</a>
<a class="sourceLine" id="cb4-108" title="108">    <span class="st">&quot;tFS8INVALIDADDRESS01&quot;</span>,</a>
<a class="sourceLine" id="cb4-109" title="109">    <span class="st">&quot;tFS8INVALIDADDRESS02&quot;</span>,</a>
<a class="sourceLine" id="cb4-110" title="110">    <span class="st">&quot;tFS8INVALIDADDRESS03&quot;</span>,</a>
<a class="sourceLine" id="cb4-111" title="111">    <span class="st">&quot;tFS8INVALIDADDRESS04&quot;</span>,</a>
<a class="sourceLine" id="cb4-112" title="112">    <span class="st">&quot;tFS8INVALIDADDRESS05&quot;</span>,</a>
<a class="sourceLine" id="cb4-113" title="113">    <span class="st">&quot;tFS8INVALIDADDRESS06&quot;</span>,</a>
<a class="sourceLine" id="cb4-114" title="114">    <span class="st">&quot;tFS8INVALIDADDRESS07&quot;</span>,</a>
<a class="sourceLine" id="cb4-115" title="115">    <span class="st">&quot;tFS8INVALIDADDRESS08&quot;</span>,</a>
<a class="sourceLine" id="cb4-116" title="116">    <span class="st">&quot;tFS8INVALIDADDRESS09&quot;</span>,</a>
<a class="sourceLine" id="cb4-117" title="117">    <span class="st">&quot;tFS8INVALIDADDRESS10&quot;</span>,</a>
<a class="sourceLine" id="cb4-118" title="118">    <span class="st">&quot;tFS8INVALIDADDRESS11&quot;</span>,</a>
<a class="sourceLine" id="cb4-119" title="119">];</a></code></pre></div>
<ul>
<li>To-do: specify the correct sets of FR addresses.</li>
<li>To-do: require that the FR address sets are PGP-signed with appropriate keys.</li>
</ul>
<h2 id="example-implementation">Example implementation</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">struct</span> FundingPeriod {</a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; addresses,</a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="dt">uint64_t</span> valueNumerator,</a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="dt">uint64_t</span> valueDenominator,</a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">int</span> startHeight,</a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="dt">int</span> endHeight,</a>
<a class="sourceLine" id="cb5-7" title="7">};</a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="kw">enum</span> FundingStream {</a>
<a class="sourceLine" id="cb5-10" title="10">    FS_1,</a>
<a class="sourceLine" id="cb5-11" title="11">    FS_2,</a>
<a class="sourceLine" id="cb5-12" title="12">    FS_3,</a>
<a class="sourceLine" id="cb5-13" title="13">    FS_4,</a>
<a class="sourceLine" id="cb5-14" title="14">    FS_5,</a>
<a class="sourceLine" id="cb5-15" title="15">    FS_6,</a>
<a class="sourceLine" id="cb5-16" title="16">    FS_7,</a>
<a class="sourceLine" id="cb5-17" title="17">    FS_8,</a>
<a class="sourceLine" id="cb5-18" title="18">    MAX_FUNDING_STREAMS,</a>
<a class="sourceLine" id="cb5-19" title="19">};</a>
<a class="sourceLine" id="cb5-20" title="20"></a>
<a class="sourceLine" id="cb5-21" title="21"><span class="kw">struct</span> Params {</a>
<a class="sourceLine" id="cb5-22" title="22">    ...</a>
<a class="sourceLine" id="cb5-23" title="23">    <span class="dt">int</span> nFundingPeriodLength;</a>
<a class="sourceLine" id="cb5-24" title="24">    FundingPeriod vFundingPeriods[MAX_FUNDING_STREAMS];</a>
<a class="sourceLine" id="cb5-25" title="25">    ...</a>
<a class="sourceLine" id="cb5-26" title="26">}</a>
<a class="sourceLine" id="cb5-27" title="27"></a>
<a class="sourceLine" id="cb5-28" title="28"><span class="dt">void</span> AddZIP207FundingStream(</a>
<a class="sourceLine" id="cb5-29" title="29">    Consensus::Params&amp; params,</a>
<a class="sourceLine" id="cb5-30" title="30">    Consensus::FundingStream idx,</a>
<a class="sourceLine" id="cb5-31" title="31">    <span class="bu">std::</span>vector&lt;<span class="bu">std::</span>string&gt; addresses,</a>
<a class="sourceLine" id="cb5-32" title="32">    <span class="dt">uint64_t</span> valueNumerator,</a>
<a class="sourceLine" id="cb5-33" title="33">    <span class="dt">uint64_t</span> valueDenominator)</a>
<a class="sourceLine" id="cb5-34" title="34">{</a>
<a class="sourceLine" id="cb5-35" title="35">    <span class="ot">assert</span>(valueNumerator &lt; valueDenominator);</a>
<a class="sourceLine" id="cb5-36" title="36">    params.vFundingPeriods[idx].addresses = addresses;</a>
<a class="sourceLine" id="cb5-37" title="37">    params.vFundingPeriods[idx].valueNumerator = valueNumerator;</a>
<a class="sourceLine" id="cb5-38" title="38">    params.vFundingPeriods[idx].valueDenominator = valueDenominator;</a>
<a class="sourceLine" id="cb5-39" title="39">    params.vFundingPeriods[idx].startHeight =</a>
<a class="sourceLine" id="cb5-40" title="40">        params.vUpgrades[Consensus::UPGRADE_BLOSSOM].nActivationHeight;</a>
<a class="sourceLine" id="cb5-41" title="41">    params.vFundingPeriods[idx].endHeight = HeightForHalving(params, <span class="dv">1</span>);</a>
<a class="sourceLine" id="cb5-42" title="42">    <span class="ot">assert</span>(params.vFundingPeriods[idx].startHeight &lt; params.vFundingPeriods[idx].endHeight);</a>
<a class="sourceLine" id="cb5-43" title="43">};</a>
<a class="sourceLine" id="cb5-44" title="44"></a>
<a class="sourceLine" id="cb5-45" title="45">CMainParams() {</a>
<a class="sourceLine" id="cb5-46" title="46">    ...</a>
<a class="sourceLine" id="cb5-47" title="47"></a>
<a class="sourceLine" id="cb5-48" title="48">    consensus.nFundingPeriodLength = consensus.nSubsidyPostBlossomHalvingInterval / <span class="dv">48</span>;</a>
<a class="sourceLine" id="cb5-49" title="49"></a>
<a class="sourceLine" id="cb5-50" title="50">    AddZIP207FundingStream(consensus, Consensus::FS_1, FS_1_ADDRESSES, <span class="dv">3</span>, <span class="dv">40</span>);</a>
<a class="sourceLine" id="cb5-51" title="51">    AddZIP207FundingStream(consensus, Consensus::FS_2, FS_2_ADDRESSES, <span class="dv">1</span>, <span class="dv">25</span>);</a>
<a class="sourceLine" id="cb5-52" title="52">    AddZIP207FundingStream(consensus, Consensus::FS_3, FS_3_ADDRESSES, <span class="dv">1</span>, <span class="dv">40</span>);</a>
<a class="sourceLine" id="cb5-53" title="53">    AddZIP207FundingStream(consensus, Consensus::FS_4, FS_4_ADDRESSES, <span class="dv">1</span>, <span class="dv">50</span>);</a>
<a class="sourceLine" id="cb5-54" title="54">    AddZIP207FundingStream(consensus, Consensus::FS_5, FS_5_ADDRESSES, <span class="dv">1</span>, <span class="dv">80</span>);</a>
<a class="sourceLine" id="cb5-55" title="55">    AddZIP207FundingStream(consensus, Consensus::FS_6, FS_6_ADDRESSES, <span class="dv">1</span>, <span class="dv">80</span>);</a>
<a class="sourceLine" id="cb5-56" title="56">    AddZIP207FundingStream(consensus, Consensus::FS_7, FS_7_ADDRESSES, <span class="dv">1</span>, <span class="dv">100</span>);</a>
<a class="sourceLine" id="cb5-57" title="57">    AddZIP207FundingStream(consensus, Consensus::FS_8, FS_8_ADDRESSES, <span class="dv">1</span>, <span class="dv">200</span>);</a>
<a class="sourceLine" id="cb5-58" title="58"></a>
<a class="sourceLine" id="cb5-59" title="59">    ...</a>
<a class="sourceLine" id="cb5-60" title="60">}</a>
<a class="sourceLine" id="cb5-61" title="61"></a>
<a class="sourceLine" id="cb5-62" title="62">CScript FundingStreamRecipientAddress(</a>
<a class="sourceLine" id="cb5-63" title="63">    <span class="dt">int</span> nHeight,</a>
<a class="sourceLine" id="cb5-64" title="64">    <span class="at">const</span> Consensus::Params&amp; params,</a>
<a class="sourceLine" id="cb5-65" title="65">    Consensus::FundingStream idx)</a>
<a class="sourceLine" id="cb5-66" title="66">{</a>
<a class="sourceLine" id="cb5-67" title="67">    <span class="co">// Integer division is floor division in C++</span></a>
<a class="sourceLine" id="cb5-68" title="68">    <span class="kw">auto</span> curPeriod = (</a>
<a class="sourceLine" id="cb5-69" title="69">        nHeight + params.nSubsidyPostBlossomHalvingInterval - HeightForHalving(params, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-70" title="70">    ) / params.nFundingPeriodLength;</a>
<a class="sourceLine" id="cb5-71" title="71">    <span class="kw">auto</span> startPeriod = (</a>
<a class="sourceLine" id="cb5-72" title="72">        params.vFundingPeriods[idx].startHeight</a>
<a class="sourceLine" id="cb5-73" title="73">            + params.nSubsidyPostBlossomHalvingInterval</a>
<a class="sourceLine" id="cb5-74" title="74">            - HeightForHalving(params, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-75" title="75">    ) / params.nFundingPeriodLength;</a>
<a class="sourceLine" id="cb5-76" title="76">    <span class="kw">auto</span> addressIndex = curPeriod - startPeriod;</a>
<a class="sourceLine" id="cb5-77" title="77">    <span class="cf">return</span> params.vFundingPeriods[idx].addresses[addressIndex];</a>
<a class="sourceLine" id="cb5-78" title="78">};</a>
<a class="sourceLine" id="cb5-79" title="79"></a>
<a class="sourceLine" id="cb5-80" title="80">CAmount FundingStreamValue(</a>
<a class="sourceLine" id="cb5-81" title="81">    <span class="dt">int</span> nHeight,</a>
<a class="sourceLine" id="cb5-82" title="82">    <span class="at">const</span> Consensus::Params&amp; params,</a>
<a class="sourceLine" id="cb5-83" title="83">    Consensus::FundingStream idx)</a>
<a class="sourceLine" id="cb5-84" title="84">{</a>
<a class="sourceLine" id="cb5-85" title="85">    <span class="co">// Integer division is floor division in C++</span></a>
<a class="sourceLine" id="cb5-86" title="86">    <span class="cf">return</span> CAmount((</a>
<a class="sourceLine" id="cb5-87" title="87">        GetBlockSubsidy(nHeight, params) * params.vFundingPeriods[idx].valueNumerator</a>
<a class="sourceLine" id="cb5-88" title="88">    ) / params.vFundingPeriods[idx].valueDenominator);</a>
<a class="sourceLine" id="cb5-89" title="89">}</a>
<a class="sourceLine" id="cb5-90" title="90"></a>
<a class="sourceLine" id="cb5-91" title="91"><span class="bu">std::</span>set&lt;<span class="bu">std::</span>pair&lt;CScript, CAmount&gt;&gt; GetActiveFundingStreams(</a>
<a class="sourceLine" id="cb5-92" title="92">    <span class="dt">int</span> nHeight,</a>
<a class="sourceLine" id="cb5-93" title="93">    <span class="at">const</span> Consensus::Params&amp; params)</a>
<a class="sourceLine" id="cb5-94" title="94">{</a>
<a class="sourceLine" id="cb5-95" title="95">    <span class="bu">std::</span>set&lt;<span class="bu">std::</span>pair&lt;CScript, CAmount&gt;&gt; requiredStreams;</a>
<a class="sourceLine" id="cb5-96" title="96">    <span class="cf">for</span> (<span class="dt">int</span> idx = Consensus::FS_ZECC_EF; idx &lt; Consensus::MAX_FUNDING_STREAMS; idx++) {</a>
<a class="sourceLine" id="cb5-97" title="97">        <span class="co">// Funding period is [startHeight, endHeight)</span></a>
<a class="sourceLine" id="cb5-98" title="98">        <span class="cf">if</span> (nHeight &gt;= params.vFundingPeriods[idx].startHeight &amp;&amp;</a>
<a class="sourceLine" id="cb5-99" title="99">            nHeight &lt; params.vFundingPeriods[idx].endHeight)</a>
<a class="sourceLine" id="cb5-100" title="100">        {</a>
<a class="sourceLine" id="cb5-101" title="101">            requiredStreams.insert(<span class="bu">std::</span>make_pair(</a>
<a class="sourceLine" id="cb5-102" title="102">                FundingStreamRecipientAddress(nHeight, params, idx),</a>
<a class="sourceLine" id="cb5-103" title="103">                FundingStreamValue(nHeight, params, idx));</a>
<a class="sourceLine" id="cb5-104" title="104">        }</a>
<a class="sourceLine" id="cb5-105" title="105">    }</a>
<a class="sourceLine" id="cb5-106" title="106">    <span class="cf">return</span> requiredStreams;</a>
<a class="sourceLine" id="cb5-107" title="107">};</a>
<a class="sourceLine" id="cb5-108" title="108"></a>
<a class="sourceLine" id="cb5-109" title="109"><span class="dt">bool</span> ContextualCheckBlock(...)</a>
<a class="sourceLine" id="cb5-110" title="110">{</a>
<a class="sourceLine" id="cb5-111" title="111">    ...</a>
<a class="sourceLine" id="cb5-112" title="112"></a>
<a class="sourceLine" id="cb5-113" title="113">    <span class="cf">if</span> (NetworkUpgradeActive(nHeight, consensusParams, Consensus::UPGRADE_BLOSSOM)) {</a>
<a class="sourceLine" id="cb5-114" title="114">        <span class="co">// Coinbase transaction must include outputs corresponding to the consensus</span></a>
<a class="sourceLine" id="cb5-115" title="115">        <span class="co">// funding streams active at the current block height.</span></a>
<a class="sourceLine" id="cb5-116" title="116">        <span class="kw">auto</span> requiredStreams = GetActiveFundingStreams(nHeight, consensusParams);</a>
<a class="sourceLine" id="cb5-117" title="117"></a>
<a class="sourceLine" id="cb5-118" title="118">        <span class="cf">for</span> (<span class="at">const</span> CTxOut&amp; output : block.vtx[<span class="dv">0</span>].vout) {</a>
<a class="sourceLine" id="cb5-119" title="119">            <span class="cf">for</span> (<span class="kw">auto</span> it = requiredStreams.begin(); it != requiredStreams.end(); ++it) {</a>
<a class="sourceLine" id="cb5-120" title="120">                <span class="cf">if</span> (output.scriptPubKey == it-&gt;first &amp;&amp; output.nValue == it-&gt;second) {</a>
<a class="sourceLine" id="cb5-121" title="121">                    requiredStreams.erase(it);</a>
<a class="sourceLine" id="cb5-122" title="122">                    <span class="cf">break</span>;</a>
<a class="sourceLine" id="cb5-123" title="123">                }</a>
<a class="sourceLine" id="cb5-124" title="124">            }</a>
<a class="sourceLine" id="cb5-125" title="125">        }</a>
<a class="sourceLine" id="cb5-126" title="126"></a>
<a class="sourceLine" id="cb5-127" title="127">        <span class="cf">if</span> (!requiredStreams.empty()) {</a>
<a class="sourceLine" id="cb5-128" title="128">            <span class="cf">return</span> state.DoS(<span class="dv">100</span>, error(<span class="st">&quot;</span><span class="sc">%s</span><span class="st">: funding stream missing&quot;</span>, <span class="ot">__func__</span>), REJECT_INVALID, <span class="st">&quot;cb-funding-stream-missing&quot;</span>);</a>
<a class="sourceLine" id="cb5-129" title="129">        }</a>
<a class="sourceLine" id="cb5-130" title="130">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb5-131" title="131">        <span class="co">// Coinbase transaction must include an output sending 20% of</span></a>
<a class="sourceLine" id="cb5-132" title="132">        <span class="co">// the block reward to a founders reward script, until the last founders</span></a>
<a class="sourceLine" id="cb5-133" title="133">        <span class="co">// reward block is reached, with exception of the genesis block.</span></a>
<a class="sourceLine" id="cb5-134" title="134">        <span class="co">// The last founders reward block is defined as the block just before the</span></a>
<a class="sourceLine" id="cb5-135" title="135">        <span class="co">// first subsidy halving block, which occurs at halving_interval + slow_start_shift</span></a>
<a class="sourceLine" id="cb5-136" title="136">        <span class="cf">if</span> ((nHeight &gt; <span class="dv">0</span>) &amp;&amp; (nHeight &lt;= consensusParams.GetLastFoundersRewardBlockHeight())) {</a>
<a class="sourceLine" id="cb5-137" title="137">            <span class="dt">bool</span> found = <span class="kw">false</span>;</a>
<a class="sourceLine" id="cb5-138" title="138"></a>
<a class="sourceLine" id="cb5-139" title="139">            <span class="cf">for</span> (<span class="at">const</span> CTxOut&amp; output : block.vtx[<span class="dv">0</span>].vout) {</a>
<a class="sourceLine" id="cb5-140" title="140">                <span class="cf">if</span> (output.scriptPubKey == Params().GetFoundersRewardScriptAtHeight(nHeight)) {</a>
<a class="sourceLine" id="cb5-141" title="141">                    <span class="cf">if</span> (output.nValue == (GetBlockSubsidy(nHeight, consensusParams) / <span class="dv">5</span>)) {</a>
<a class="sourceLine" id="cb5-142" title="142">                        found = <span class="kw">true</span>;</a>
<a class="sourceLine" id="cb5-143" title="143">                        <span class="cf">break</span>;</a>
<a class="sourceLine" id="cb5-144" title="144">                    }</a>
<a class="sourceLine" id="cb5-145" title="145">                }</a>
<a class="sourceLine" id="cb5-146" title="146">            }</a>
<a class="sourceLine" id="cb5-147" title="147"></a>
<a class="sourceLine" id="cb5-148" title="148">            <span class="cf">if</span> (!found) {</a>
<a class="sourceLine" id="cb5-149" title="149">                <span class="cf">return</span> state.DoS(<span class="dv">100</span>, error(<span class="st">&quot;</span><span class="sc">%s</span><span class="st">: founders reward missing&quot;</span>, <span class="ot">__func__</span>), REJECT_INVALID, <span class="st">&quot;cb-no-founders-reward&quot;</span>);</a>
<a class="sourceLine" id="cb5-150" title="150">            }</a>
<a class="sourceLine" id="cb5-151" title="151">        }</a>
<a class="sourceLine" id="cb5-152" title="152">    }</a>
<a class="sourceLine" id="cb5-153" title="153"></a>
<a class="sourceLine" id="cb5-154" title="154">    ...</a>
<a class="sourceLine" id="cb5-155" title="155">}</a></code></pre></div>
<h1 id="deployment">Deployment</h1>
<p>This proposal was originally intended to be deployed with the Blossom network upgrade.<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></p>
<h1 id="backward-compatibility">Backward compatibility</h1>
<p>This proposal intentionally creates what is known as a &quot;bilateral consensus rule change&quot;. Use of this mechanism requires that all network participants upgrade their software to a compatible version within the upgrade window. Older software will treat post-upgrade blocks as invalid, and will follow any pre-upgrade branch that persists.</p>
<p>This proposal is designed with the explicit requirement of not altering the overall issuance schedule (based on time), nor does it alter the proportion or timeline of the overall Founders' Reward. As a result, no users outside of the Zerocoin Electric Coin Company and Zcash Foundation should experience any UX or economic change outside of the upgrade due to this proposal itself.</p>
<h2 id="interactions-with-other-zips">Interactions with other ZIPs</h2>
<p><a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> (Shorter Block Target Spacing) specifies a change to the block target spacing. It is planned to take effect in the Blossom network upgrade<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>. This ZIP was originally written to take effect at the same time, but was Withdrawn from consideration for Blossom.</p>
<p>ZIP 208 modifies the payment of the original Founders' Reward to take account of the block target spacing change. It does this by specifying a FounderAddressAdjustedHeight function and related changes, which would need to be revisited to take into account funding streams.</p>
<h1 id="reference-implementation">Reference Implementation</h1>
<p>TBC</p>
<h1 id="references">References</h1>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 7.7: Calculation of Block Subsidy and Founders' Reward. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><a href="https://electriccoin.co/blog/continued-funding-and-transparency/">Continued Funding and Transparency</a><a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><a href="https://github.com/zcash/zips/blob/master/zip-0208.rst">ZIP 208: Shorter Block Target Spacing</a><a href="#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 7.7: Calculation of Block Subsidy and Founders' Reward. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p><a href="https://github.com/zcash/zips/blob/master/zip-0208.rst">ZIP 208: Shorter Block Target Spacing</a><a href="#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 7.8: Payment of Founders' Reward. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 7.8: Payment of Founders' Reward. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref8" class="footnote-back">↩</a></p></li>
<li id="fn9"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 7.8: Payment of Founders' Reward. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref9" class="footnote-back">↩</a></p></li>
<li id="fn10"><p><a href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">Section 5.3: Constants. Zcash Protocol Specification, Version 2018.0-beta-33 or later [Overwinter+Sapling]</a><a href="#fnref10" class="footnote-back">↩</a></p></li>
<li id="fn11"><p><a href="https://github.com/zcash/zips/blob/master/zip-0206.rst">ZIP 206: Blossom Network Upgrade</a><a href="#fnref11" class="footnote-back">↩</a></p></li>
<li id="fn12"><p><a href="https://github.com/zcash/zips/blob/master/zip-0208.rst">ZIP 208: Shorter Block Target Spacing</a><a href="#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p><a href="https://github.com/zcash/zips/blob/master/zip-0206.rst">ZIP 206: Blossom Network Upgrade</a><a href="#fnref13" class="footnote-back">↩</a></p></li>
</ol>
</section>
</body>
</html>
